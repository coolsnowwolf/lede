# ./quectel-CM -s cmnet &
[04-21_17:35:14:362] Quectel_QConnectManager_Linux_V1.6.0.26
[04-21_17:35:14:363] Find /sys/bus/usb/devices/2-4 idVendor=0x2c7c idProduct=0x8101, bus=0x002, dev=0x016
[04-21_17:35:14:363] Auto find qmichannel = /dev/ttyUSB0
[04-21_17:35:14:363] Auto find usbnet_adapter = usb0
[04-21_17:35:14:363] netcard driver = cdc_ncm, driver version = 22-Aug-2005
[04-21_17:35:14:363] Modem works in ECM_RNDIS_NCM mode
[04-21_17:35:14:371] atc_fd = 7
[04-21_17:35:14:371] AT> ATE0Q0V1
[04-21_17:35:14:372] AT< RDATE0Q0V1
[04-21_17:35:14:372] AT< COMMAND NOT SUPPORT
[04-21_17:35:15:373] AT> AT+QCFG="usbnet"
[04-21_17:35:15:373] AT< +QCFG: "usbnet",5
[04-21_17:35:15:373] AT< OK
[04-21_17:35:15:373] AT> AT+QNETDEVCTL=?
[04-21_17:35:15:374] AT< +QNETDEVCTL: (1-11),(0,1),(0,1)
[04-21_17:35:15:374] AT< OK
[04-21_17:35:15:374] AT> AT+CGREG=2
[04-21_17:35:15:376] AT< OK
[04-21_17:35:15:376] AT> AT+CEREG=2
[04-21_17:35:15:381] AT< OK
[04-21_17:35:15:381] AT> AT+C5GREG=2
[04-21_17:35:15:384] AT< OK
[04-21_17:35:15:384] AT> AT+QNETDEVSTATUS=?
[04-21_17:35:15:385] AT< +QNETDEVSTATUS: (1-11)
[04-21_17:35:15:385] AT< OK
[04-21_17:35:15:385] AT> AT+QCFG="NAT"
[04-21_17:35:15:385] AT< +QCFG: "nat",0
[04-21_17:35:15:385] AT< OK
[04-21_17:35:15:385] AT> AT+CGMR
[04-21_17:35:15:386] AT< RG801HEAAAR03A01M8G
[04-21_17:35:15:386] AT< OK
[04-21_17:35:15:386] AT> AT+CPIN?
[04-21_17:35:15:388] AT< +CPIN: READY
[04-21_17:35:15:388] AT< OK
[04-21_17:35:15:389] AT> AT+QCCID
[04-21_17:35:15:393] AT< +QCCID: 89860015120716380461
[04-21_17:35:15:393] AT< OK
[04-21_17:35:15:393] requestGetICCID 89860015120716380461
[04-21_17:35:15:393] AT> AT+CIMI
[04-21_17:35:15:409] AT< 460028563800461
[04-21_17:35:15:409] AT< OK
[04-21_17:35:15:409] requestGetIMSI 460028563800461
[04-21_17:35:15:409] AT> AT+QICSGP=1
[04-21_17:35:15:411] AT< +QICSGP: 1,1,"cment","","",0,,0,
[04-21_17:35:15:411] AT< OK
[04-21_17:35:15:411] AT> AT+QICSGP=1
[04-21_17:35:15:415] AT< +QICSGP: 1,1,"cment","","",0,,0,
[04-21_17:35:15:415] AT< OK
[04-21_17:35:15:415] AT> AT+COPS=3,0;+COPS?;+COPS=3,1;+COPS?;+COPS=3,2;+COPS?
[04-21_17:35:15:421] AT< +COPS: 0,0,"CHINA  MOBILE",12
[04-21_17:35:15:421] AT< +COPS: 0,1,"CMCC",12
[04-21_17:35:15:421] AT< +COPS: 0,2,"46000",12
[04-21_17:35:15:421] AT< OK
[04-21_17:35:15:421] AT> AT+C5GREG?
[04-21_17:35:15:424] AT< +C5GREG: 2,1,"46550B","0000000170C23000",11,1,"01"
[04-21_17:35:15:424] AT< OK
[04-21_17:35:15:424] AT> at+cops?
[04-21_17:35:15:427] AT< +COPS: 0,2,"46000",12
[04-21_17:35:15:427] AT< OK
[04-21_17:35:15:427] AT> at+qeng="servingcell"
[04-21_17:35:15:441] AT< +QENG: "servingcell","NOCONN","NR5G-SA","TDD",460,00,170C23000,901,46550B,504990,41,-,-54,-10,16,-,-
[04-21_17:35:15:441] AT< OK
[04-21_17:35:15:441] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:15:445] AT< ERROR
[04-21_17:35:15:445] ifconfig usb0 0.0.0.0
[04-21_17:35:15:446] ifconfig usb0 down
[04-21_17:35:15:448] AT> AT+QNETDEVCTL=1,1,0
[04-21_17:35:15:454] AT< OK
[04-21_17:35:15:456] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:15:458] AT< ERROR
[04-21_17:35:15:989] AT< +QNETDEVSTATUS:1,1,"IPV4"
[04-21_17:35:16:459] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:16:461] AT< +QNETDEVSTATUS: 4F10190A,E0FFFFFF,4110190A,4110190A,02B48AD3,03B48AD3, 85600, 85600
[04-21_17:35:16:461] AT< OK
[04-21_17:35:16:461] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:16:462] AT< +QNETDEVSTATUS: 4F10190A,E0FFFFFF,4110190A,4110190A,02B48AD3,03B48AD3, 85600, 85600
[04-21_17:35:16:462] AT< OK
[04-21_17:35:16:462] requestGetIPAddress 10.25.16.79
[04-21_17:35:16:462] AT> at+cops?
[04-21_17:35:16:463] AT< +COPS: 0,2,"46000",12
[04-21_17:35:16:463] AT< OK
[04-21_17:35:16:463] AT> at+qeng="servingcell"
[04-21_17:35:16:465] AT< +QENG: "servingcell","CONNECT","NR5G-SA","TDD",460,00,170C23000,901,46550B,504990,41,-,-52,-11,15,-,-
[04-21_17:35:16:465] AT< OK
[04-21_17:35:16:465] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:16:466] AT< +QNETDEVSTATUS: 4F10190A,E0FFFFFF,4110190A,4110190A,02B48AD3,03B48AD3, 85600, 85600
[04-21_17:35:16:466] AT< OK
[04-21_17:35:16:466] ifconfig usb0 up
[04-21_17:35:16:470] busybox udhcpc -f -n -q -t 5 -i usb0
udhcpc: started, v1.30.1
udhcpc: sending discover
udhcpc: sending select for 10.25.16.79
udhcpc: lease of 10.25.16.79 obtained, lease time 518400
[04-21_17:35:16:602] /etc/udhcpc/default.script: Resetting default routes
SIOCDELRT: No such process
SIOCADDRT: Network is unreachable
[04-21_17:35:16:606] /etc/udhcpc/default.script: Adding DNS 211.138.180.2
[04-21_17:35:16:606] /etc/udhcpc/default.script: Adding DNS 211.138.180.3
[04-21_17:35:16:655] AT> at+cops?
[04-21_17:35:16:656] AT< +COPS: 0,2,"46000",12
[04-21_17:35:16:656] AT< OK
[04-21_17:35:16:656] AT> at+qeng="servingcell"
[04-21_17:35:16:657] AT< +QENG: "servingcell","CONNECT","NR5G-SA","TDD",460,00,170C23000,901,46550B,504990,41,-,-50,-11,17,-,-
[04-21_17:35:16:658] AT< OK
err = 16
[04-21_17:35:16:658] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:16:659] AT< +QNETDEVSTATUS: 4F10190A,E0FFFFFF,4110190A,4110190A,02B48AD3,03B48AD3, 85600, 85600
[04-21_17:35:16:659] AT< OK

root@carl-ThinkPad-X1-Carbon-7th:/home/carl/q/quectel-CM# ifconfig usb0
usb0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 10.25.16.79  netmask 255.255.255.224  broadcast 10.25.16.95
        inet6 fe80::5c98:e9d4:c82d:5f  prefixlen 64  scopeid 0x20<link>
        ether 0c:5b:8f:27:9a:64  txqueuelen 1000  (Ethernet)
        RX packets 7  bytes 1656 (1.6 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 32  bytes 5112 (5.1 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

root@carl-ThinkPad-X1-Carbon-7th:/home/carl/q/quectel-CM# [04-21_17:35:31:670] AT> at+cops?
[04-21_17:35:31:671] AT< +COPS: 0,2,"46000",12
[04-21_17:35:31:671] AT< OK
[04-21_17:35:31:671] AT> at+qeng="servingcell"
[04-21_17:35:31:673] AT< +QENG: "servingcell","CONNECT","NR5G-SA","TDD",460,00,170C23000,901,46550B,504990,41,-,-48,-10,17,-,-
[04-21_17:35:31:673] AT< OK
[04-21_17:35:31:673] AT> AT+QNETDEVSTATUS=1
[04-21_17:35:31:674] AT< +QNETDEVSTATUS: 4F10190A,E0FFFFFF,4110190A,4110190A,02B48AD3,03B48AD3, 85600, 85600
[04-21_17:35:31:674] AT< OK
