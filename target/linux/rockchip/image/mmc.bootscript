part uuid mmc ${devnum}:2 uuid

if test $stdout = 'serial@2ad40000' ;
then serial_addr=',0x2ad40000'; serial_port='ttyS0';
elif test $stdout = 'serial@fe660000' ;
then serial_addr=',0xfe660000'; serial_port='ttyS2';
elif test $stdout = 'serial@feb50000' ;
then serial_addr=',0xfeb50000'; serial_port='ttyS2';
elif test $stdout = 'serial@ff130000' ;
then serial_addr=',0xff130000'; serial_port='ttyS2';
elif test $stdout = 'serial@ff1a0000' ;
then serial_addr=',0xff1a0000'; serial_port='ttyS2';
elif test $stdout = 'serial@ff9f0000' ;
then serial_addr=',0xff9f0000'; serial_port='ttyS0';
fi;

setenv bootargs "console=${serial_port},1500000 earlycon=uart8250,mmio32${serial_addr} root=PARTUUID=${uuid} rw rootwait";

load mmc ${devnum}:1 ${fdt_addr_r} rockchip.dtb
load mmc ${devnum}:1 ${kernel_addr_r} kernel.img

booti ${kernel_addr_r} - ${fdt_addr_r}
